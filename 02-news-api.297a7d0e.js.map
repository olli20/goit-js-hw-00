{"mappings":"AAAA,MAEMA,EAAU,CACJC,QAAS,CACLC,cAJA,qCCEhB,MAAMC,EAAO,CACTC,WAAYC,SAASC,cAAc,gBACnCC,kBAAmBF,SAASC,cAAc,0BAC1CE,YAAaH,SAASC,cAAc,8BAGlCG,EAAiB,IDAR,MAOXC,gBACI,MAAMC,EAAM,iDACVC,KAAKC,2CAA2CD,KAAKE,OAEvD,OAAOC,MAAMJ,EAAKX,GACbgB,MAAKC,GAAYA,EAASC,SAC1BF,MAAK,EAACG,SAAEA,MACLP,KAAKQ,gBAEED,I,CAInBC,gBACIR,KAAKE,MAAQ,C,CAGjBO,YACIT,KAAKE,KAAO,C,CAGZQ,YACA,OAAOV,KAAKC,W,CAGZS,UAAMC,GACNX,KAAKC,YAAcU,C,CAhCvBC,cACIZ,KAAKC,YAAc,GACnBD,KAAKa,SAAW,EAChBb,KAAKE,KAAO,C,GCUdY,EAAkBT,IACpB,IAAIU,EAAS,GACb,IAAK,IAAIC,EAAI,EAAGA,EAAIX,EAASY,OAAQD,GAAK,EACtCD,GAAUG,EAAWb,EAASW,IAElCzB,EAAKI,kBAAkBwB,mBAAmB,YAAaJ,EAAO,EAG5DG,EAAa,EAACE,OAAEA,EAAMC,MAAEA,EAAKtB,IAAEA,EAAGuB,WAAEA,EAAUC,YAAEA,KAAmB,iCAErDD,wDAEOvB,MAAQsB,qEAEDD,yCACFG,mEAK1BC,EAAyB,KAC3BjC,EAAKI,kBAAkB8B,UAAY,EAAE,EAGzClC,EAAKC,WAAWkC,iBAAiB,UApCfC,IACdA,EAAMC,iBACNJ,IACA3B,EAAea,MAAQiB,EAAME,cAAcC,SAASpB,MAAMqB,MAC1DlC,EAAeY,YACfZ,EAAeC,gBAAgBM,KAAKU,EAAe,IAgCvDvB,EAAKK,YAAY8B,iBAAiB,SA7Bf,KACf7B,EAAeC,gBAAgBM,KAAKU,EAAe","sources":["src/js/news-service.js","src/js/02-news-api.js"],"sourcesContent":["const API_KEY = 'bd5001ff6282405f90fe87f63b756293';\nconst BASE_URL = 'https://newsapi.org/v2';\nconst options = {\n            headers: {\n                Authorization: API_KEY,\n            },\n        };\n\nexport default class NewsApiService {\n    constructor() {\n        this.searchQuery = '';\n        this.pageSize = 5;\n        this.page = 1;\n    }\n\n    fetchArticles() {  \n        const url = `${BASE_URL}/everything?q=\n        ${this.searchQuery}&language=en&pageSize=5&page=${this.page}`;\n\n        return fetch(url, options)\n            .then(response => response.json())\n            .then(({ articles }) => {\n                this.incrementPage();\n\n                return articles;\n            });\n    }\n\n    incrementPage() {\n        this.page += 1;\n    }\n\n    resetPage() {\n        this.page = 1;\n    }\n\n    get query() {\n        return this.searchQuery;\n    }\n\n    set query(newQuery) {\n        this.searchQuery = newQuery;\n    }\n};","import NewsApiService from './news-service';\n\nconst refs = {\n    searchForm: document.querySelector('.form-inline'),\n    articlesContainer: document.querySelector('.js-articles-container'),\n    showMoreBtn: document.querySelector('[data-action=\"load-more\"]'),\n}\n\nconst newsApiService = new NewsApiService();\n\nconst onSearch = (event) => {\n    event.preventDefault();\n    clearArticlesContainer();\n    newsApiService.query = event.currentTarget.elements.query.value;\n    newsApiService.resetPage();\n    newsApiService.fetchArticles().then(insertArticles);\n};\n\nconst onLoadMore = () => {\n    newsApiService.fetchArticles().then(insertArticles);  \n};\n\nconst insertArticles = (response) => {\n    let markup = '';\n    for (let i = 0; i < response.length; i += 1) {\n        markup += articleTpl(response[i]);\n    };\n    refs.articlesContainer.insertAdjacentHTML('beforeend', markup);\n};\n\nconst articleTpl = ({ author, title, url, urlToImage, publishedAt }) =>  `\n    <li>\n        <img src='${urlToImage}' alt=\"\" >\n        <div>\n            <h4><a href='${url}'>${title}</a></h4>\n                <ul>\n                    <li>Author: ${author}</li>\n                    <li>Date: ${publishedAt}</li>\n                </ul>\n        </div>        \n    </li>`;\n\nconst clearArticlesContainer = () => {\n    refs.articlesContainer.innerHTML = '';\n}\n\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.showMoreBtn.addEventListener('click', onLoadMore); \n\n\n\n\n\n\n"],"names":["$58f2b4ecc6251333$var$options","headers","Authorization","$36ad3565061e4aef$var$refs","searchForm","document","querySelector","articlesContainer","showMoreBtn","$36ad3565061e4aef$var$newsApiService","fetchArticles","url","this","searchQuery","page","fetch","then","response","json","articles","incrementPage","resetPage","query","newQuery","constructor","pageSize","$36ad3565061e4aef$var$insertArticles","markup","i","length","$36ad3565061e4aef$var$articleTpl","insertAdjacentHTML","author","title","urlToImage","publishedAt","$36ad3565061e4aef$var$clearArticlesContainer","innerHTML","addEventListener","event","preventDefault","currentTarget","elements","value"],"version":3,"file":"02-news-api.297a7d0e.js.map"}